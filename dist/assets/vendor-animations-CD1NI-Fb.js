import{a as e,i as t,n,r,t as i}from"./rolldown-runtime-Cn8xt2Gj.js";import{$ as a,A as o,B as s,C as c,D as l,E as u,F as d,G as f,H as p,I as m,J as h,K as g,L as _,M as v,N as y,O as b,P as x,Q as S,R as C,S as w,T,U as E,V as D,W as O,X as k,Y as A,Z as j,_ as ee,a as M,b as N,c as te,d as P,f as ne,g as re,h as ie,i as F,j as ae,k as oe,l as se,m as ce,n as le,o as I,p as ue,q as de,r as fe,s as pe,t as me,u as he,v as ge,w as _e,x as ve,y as L,z as ye}from"./vendor-BvCYSa5M.js";var be=i((e=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.portal`),r=Symbol.for(`react.fragment`),i=Symbol.for(`react.strict_mode`),a=Symbol.for(`react.profiler`),o=Symbol.for(`react.consumer`),s=Symbol.for(`react.context`),c=Symbol.for(`react.forward_ref`),l=Symbol.for(`react.suspense`),u=Symbol.for(`react.memo`),d=Symbol.for(`react.lazy`),f=Symbol.for(`react.activity`),p=Symbol.iterator;function m(e){return typeof e!=`object`||!e?null:(e=p&&e[p]||e[`@@iterator`],typeof e==`function`?e:null)}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,_={};function v(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if(typeof e!=`object`&&typeof e!=`function`&&e!=null)throw Error(`takes an object of state variables to update or a function which returns an object of state variables.`);this.updater.enqueueSetState(this,e,t,`setState`)},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,`forceUpdate`)};function y(){}y.prototype=v.prototype;function b(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||h}var x=b.prototype=new y;x.constructor=b,g(x,v.prototype),x.isPureReactComponent=!0;var S=Array.isArray;function C(){}var w={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function E(e,n,r){var i=r.ref;return{$$typeof:t,type:e,key:n,ref:i===void 0?null:i,props:r}}function D(e,t){return E(e.type,t,e.props)}function O(e){return typeof e==`object`&&!!e&&e.$$typeof===t}function k(e){var t={"=":`=0`,":":`=2`};return`$`+e.replace(/[=:]/g,function(e){return t[e]})}var A=/\/+/g;function j(e,t){return typeof e==`object`&&e&&e.key!=null?k(``+e.key):t.toString(36)}function ee(e){switch(e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason;default:switch(typeof e.status==`string`?e.then(C,C):(e.status=`pending`,e.then(function(t){e.status===`pending`&&(e.status=`fulfilled`,e.value=t)},function(t){e.status===`pending`&&(e.status=`rejected`,e.reason=t)})),e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason}}throw e}function M(e,r,i,a,o){var s=typeof e;(s===`undefined`||s===`boolean`)&&(e=null);var c=!1;if(e===null)c=!0;else switch(s){case`bigint`:case`string`:case`number`:c=!0;break;case`object`:switch(e.$$typeof){case t:case n:c=!0;break;case d:return c=e._init,M(c(e._payload),r,i,a,o)}}if(c)return o=o(e),c=a===``?`.`+j(e,0):a,S(o)?(i=``,c!=null&&(i=c.replace(A,`$&/`)+`/`),M(o,r,i,``,function(e){return e})):o!=null&&(O(o)&&(o=D(o,i+(o.key==null||e&&e.key===o.key?``:(``+o.key).replace(A,`$&/`)+`/`)+c)),r.push(o)),1;c=0;var l=a===``?`.`:a+`:`;if(S(e))for(var u=0;u<e.length;u++)a=e[u],s=l+j(a,u),c+=M(a,r,i,s,o);else if(u=m(e),typeof u==`function`)for(e=u.call(e),u=0;!(a=e.next()).done;)a=a.value,s=l+j(a,u++),c+=M(a,r,i,s,o);else if(s===`object`){if(typeof e.then==`function`)return M(ee(e),r,i,a,o);throw r=String(e),Error(`Objects are not valid as a React child (found: `+(r===`[object Object]`?`object with keys {`+Object.keys(e).join(`, `)+`}`:r)+`). If you meant to render a collection of children, use an array instead.`)}return c}function N(e,t,n){if(e==null)return e;var r=[],i=0;return M(e,r,``,``,function(e){return t.call(n,e,i++)}),r}function te(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(t){(e._status===0||e._status===-1)&&(e._status=1,e._result=t)},function(t){(e._status===0||e._status===-1)&&(e._status=2,e._result=t)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var P=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)},ne={map:N,forEach:function(e,t,n){N(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return N(e,function(){t++}),t},toArray:function(e){return N(e,function(e){return e})||[]},only:function(e){if(!O(e))throw Error(`React.Children.only expected to receive a single React element child.`);return e}};e.Activity=f,e.Children=ne,e.Component=v,e.Fragment=r,e.Profiler=a,e.PureComponent=b,e.StrictMode=i,e.Suspense=l,e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,e.__COMPILER_RUNTIME={__proto__:null,c:function(e){return w.H.useMemoCache(e)}},e.cache=function(e){return function(){return e.apply(null,arguments)}},e.cacheSignal=function(){return null},e.cloneElement=function(e,t,n){if(e==null)throw Error(`The argument must be a React element, but you passed `+e+`.`);var r=g({},e.props),i=e.key;if(t!=null)for(a in t.key!==void 0&&(i=``+t.key),t)!T.call(t,a)||a===`key`||a===`__self`||a===`__source`||a===`ref`&&t.ref===void 0||(r[a]=t[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];r.children=o}return E(e.type,i,r)},e.createContext=function(e){return e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:o,_context:e},e},e.createElement=function(e,t,n){var r,i={},a=null;if(t!=null)for(r in t.key!==void 0&&(a=``+t.key),t)T.call(t,r)&&r!==`key`&&r!==`__self`&&r!==`__source`&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var s=Array(o),c=0;c<o;c++)s[c]=arguments[c+2];i.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return E(e,a,i)},e.createRef=function(){return{current:null}},e.forwardRef=function(e){return{$$typeof:c,render:e}},e.isValidElement=O,e.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:te}},e.memo=function(e,t){return{$$typeof:u,type:e,compare:t===void 0?null:t}},e.startTransition=function(e){var t=w.T,n={};w.T=n;try{var r=e(),i=w.S;i!==null&&i(n,r),typeof r==`object`&&r&&typeof r.then==`function`&&r.then(C,P)}catch(e){P(e)}finally{t!==null&&n.types!==null&&(t.types=n.types),w.T=t}},e.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},e.use=function(e){return w.H.use(e)},e.useActionState=function(e,t,n){return w.H.useActionState(e,t,n)},e.useCallback=function(e,t){return w.H.useCallback(e,t)},e.useContext=function(e){return w.H.useContext(e)},e.useDebugValue=function(){},e.useDeferredValue=function(e,t){return w.H.useDeferredValue(e,t)},e.useEffect=function(e,t){return w.H.useEffect(e,t)},e.useEffectEvent=function(e){return w.H.useEffectEvent(e)},e.useId=function(){return w.H.useId()},e.useImperativeHandle=function(e,t,n){return w.H.useImperativeHandle(e,t,n)},e.useInsertionEffect=function(e,t){return w.H.useInsertionEffect(e,t)},e.useLayoutEffect=function(e,t){return w.H.useLayoutEffect(e,t)},e.useMemo=function(e,t){return w.H.useMemo(e,t)},e.useOptimistic=function(e,t){return w.H.useOptimistic(e,t)},e.useReducer=function(e,t,n){return w.H.useReducer(e,t,n)},e.useRef=function(e){return w.H.useRef(e)},e.useState=function(e){return w.H.useState(e)},e.useSyncExternalStore=function(e,t,n){return w.H.useSyncExternalStore(e,t,n)},e.useTransition=function(){return w.H.useTransition()},e.version=`19.2.4`})),xe=i(((e,t)=>{t.exports=be()})),Se=i((e=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.fragment`);function r(e,n,r){var i=null;if(r!==void 0&&(i=``+r),n.key!==void 0&&(i=``+n.key),`key`in n)for(var a in r={},n)a!==`key`&&(r[a]=n[a]);else r=n;return n=r.ref,{$$typeof:t,type:e,key:i,ref:n===void 0?null:n,props:r}}e.Fragment=n,e.jsx=r,e.jsxs=r})),Ce=i(((e,t)=>{t.exports=Se()})),R=xe(),we=(0,R.createContext)({});function Te(e){let t=(0,R.useRef)(null);return t.current===null&&(t.current=e()),t.current}var Ee=typeof window<`u`,De=Ee?R.useLayoutEffect:R.useEffect,z=(0,R.createContext)(null),B=(0,R.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:`never`});function Oe(e,t){if(typeof e==`function`)return e(t);e!=null&&(e.current=t)}function ke(...e){return t=>{let n=!1,r=e.map(e=>{let r=Oe(e,t);return!n&&typeof r==`function`&&(n=!0),r});if(n)return()=>{for(let t=0;t<r.length;t++){let n=r[t];typeof n==`function`?n():Oe(e[t],null)}}}}function Ae(...e){return R.useCallback(ke(...e),e)}var V=Ce(),je=class extends R.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent&&this.props.pop!==!1){let e=t.offsetParent,n=x(e)&&e.offsetWidth||0,r=x(e)&&e.offsetHeight||0,i=this.props.sizeRef.current;i.height=t.offsetHeight||0,i.width=t.offsetWidth||0,i.top=t.offsetTop,i.left=t.offsetLeft,i.right=n-i.width-i.left,i.bottom=r-i.height-i.top}return null}componentDidUpdate(){}render(){return this.props.children}};function Me({children:e,isPresent:t,anchorX:n,anchorY:r,root:i,pop:a}){var o,s;let c=(0,R.useId)(),l=(0,R.useRef)(null),u=(0,R.useRef)({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:d}=(0,R.useContext)(B),f=Ae(l,(o=(s=e.props)==null?void 0:s.ref)==null?e==null?void 0:e.ref:o);return(0,R.useInsertionEffect)(()=>{let{width:e,height:o,top:s,left:f,right:p,bottom:m}=u.current;if(t||a===!1||!l.current||!e||!o)return;let h=n===`left`?`left: ${f}`:`right: ${p}`,g=r===`bottom`?`bottom: ${m}`:`top: ${s}`;l.current.dataset.motionPopId=c;let _=document.createElement(`style`);d&&(_.nonce=d);let v=i==null?document.head:i;return v.appendChild(_),_.sheet&&_.sheet.insertRule(`
          [data-motion-pop-id="${c}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${o}px !important;
            ${h}px !important;
            ${g}px !important;
          }
        `),()=>{v.contains(_)&&v.removeChild(_)}},[t]),(0,V.jsx)(je,{isPresent:t,childRef:l,sizeRef:u,pop:a,children:a===!1?e:R.cloneElement(e,{ref:f})})}var Ne=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:o,anchorX:s,anchorY:c,root:l})=>{let u=Te(Pe),d=(0,R.useId)(),f=!0,p=(0,R.useMemo)(()=>(f=!1,{id:d,initial:t,isPresent:n,custom:i,onExitComplete:e=>{u.set(e,!0);for(let e of u.values())if(!e)return;r&&r()},register:e=>(u.set(e,!1),()=>u.delete(e))}),[n,u,r]);return a&&f&&(p=E({},p)),(0,R.useMemo)(()=>{u.forEach((e,t)=>u.set(t,!1))},[n]),R.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),e=(0,V.jsx)(Me,{pop:o===`popLayout`,isPresent:n,anchorX:s,anchorY:c,root:l,children:e}),(0,V.jsx)(z.Provider,{value:p,children:e})};function Pe(){return new Map}function Fe(e=!0){let t=(0,R.useContext)(z);if(t===null)return[!0,null];let{isPresent:n,onExitComplete:r,register:i}=t,a=(0,R.useId)();(0,R.useEffect)(()=>{if(e)return i(a)},[e]);let o=(0,R.useCallback)(()=>e&&r&&r(a),[a,r,e]);return!n&&r?[!1,o]:[!0]}var H=e=>e.key||``;function Ie(e){let t=[];return R.Children.forEach(e,e=>{(0,R.isValidElement)(e)&&t.push(e)}),t}var Le=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a=`sync`,propagate:o=!1,anchorX:s=`left`,anchorY:c=`top`,root:l})=>{let[u,d]=Fe(o),f=(0,R.useMemo)(()=>Ie(e),[e]),p=o&&!u?[]:f.map(H),m=(0,R.useRef)(!0),h=(0,R.useRef)(f),g=Te(()=>new Map),_=(0,R.useRef)(new Set),[v,y]=(0,R.useState)(f),[b,x]=(0,R.useState)(f);De(()=>{m.current=!1,h.current=f;for(let e=0;e<b.length;e++){let t=H(b[e]);p.includes(t)?(g.delete(t),_.current.delete(t)):g.get(t)!==!0&&g.set(t,!1)}},[b,p.length,p.join(`-`)]);let S=[];if(f!==v){let e=[...f];for(let t=0;t<b.length;t++){let n=b[t],r=H(n);p.includes(r)||(e.splice(t,0,n),S.push(n))}return a===`wait`&&S.length&&(e=S),x(Ie(e)),y(f),null}let{forceRender:C}=(0,R.useContext)(we);return(0,V.jsx)(V.Fragment,{children:b.map(e=>{let v=H(e),y=o&&!u?!1:f===b||p.includes(v);return(0,V.jsx)(Ne,{isPresent:y,initial:!m.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:a,root:l,onExitComplete:y?void 0:()=>{if(_.current.has(v))return;if(_.current.add(v),g.has(v))g.set(v,!0);else return;let e=!0;g.forEach(t=>{t||(e=!1)}),e&&(C==null||C(),x(h.current),o&&(d==null||d()),r&&r())},anchorX:s,anchorY:c,children:e},v)})})},Re=(0,R.createContext)({strict:!1}),ze={animation:[`animate`,`variants`,`whileHover`,`whileTap`,`exit`,`whileInView`,`whileFocus`,`whileDrag`],exit:[`exit`],drag:[`drag`,`dragControls`],focus:[`whileFocus`],hover:[`whileHover`,`onHoverStart`,`onHoverEnd`],tap:[`whileTap`,`onTap`,`onTapStart`,`onTapCancel`],pan:[`onPan`,`onPanStart`,`onPanSessionStart`,`onPanEnd`],inView:[`whileInView`,`onViewportEnter`,`onViewportLeave`],layout:[`layout`,`layoutId`]},Be=!1;function Ve(){if(Be)return;let e={};for(let t in ze)e[t]={isEnabled:e=>ze[t].some(t=>!!e[t])};ve(e),Be=!0}function He(){return Ve(),N()}function Ue(e){let t=He();for(let n in e)t[n]=E(E({},t[n]),e[n]);ve(t)}var We=new Set(`animate.exit.variants.initial.style.values.variants.transition.transformTemplate.custom.inherit.onBeforeLayoutMeasure.onAnimationStart.onAnimationComplete.onUpdate.onDragStart.onDrag.onDragEnd.onMeasureDragConstraints.onDirectionLock.onDragTransitionEnd._dragX._dragY.onHoverStart.onHoverEnd.onViewportEnter.onViewportLeave.globalTapTarget.propagate.ignoreStrict.viewport`.split(`.`));function U(e){return e.startsWith(`while`)||e.startsWith(`drag`)&&e!==`draggable`||e.startsWith(`layout`)||e.startsWith(`onTap`)||e.startsWith(`onPan`)||e.startsWith(`onLayout`)||We.has(e)}var Ge=r({default:()=>Ke}),Ke,qe=n((()=>{throw Ke={},Error(`Could not resolve "@emotion/is-prop-valid" imported by "framer-motion". Is it installed?`)})),Je=e=>!U(e);function Ye(e){typeof e==`function`&&(Je=t=>t.startsWith(`on`)?!U(t):e(t))}try{Ye((qe(),t(Ge)).default)}catch(e){}function Xe(e,t,n){let r={};for(let i in e)i===`values`&&typeof e.values==`object`||(Je(i)||n===!0&&U(i)||!t&&!U(i)||e.draggable&&i.startsWith(`onDrag`))&&(r[i]=e[i]);return r}var W=(0,R.createContext)({});function Ze(e,t){if(w(e)){let{initial:t,animate:n}=e;return{initial:t===!1||_e(t)?t:void 0,animate:_e(n)?n:void 0}}return e.inherit===!1?{}:t}function Qe(e){let{initial:t,animate:n}=Ze(e,(0,R.useContext)(W));return(0,R.useMemo)(()=>({initial:t,animate:n}),[$e(t),$e(n)])}function $e(e){return Array.isArray(e)?e.join(` `):e}var G=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function et(e,t,n){for(let r in t)!_(t[r])&&!ce(r,n)&&(e[r]=t[r])}function tt({transformTemplate:e},t){return(0,R.useMemo)(()=>{let n=G();return ie(n,t,e),Object.assign({},n.vars,n.style)},[t])}function nt(e,t){let n=e.style||{},r={};return et(r,n,e),Object.assign(r,tt(e,t)),r}function rt(e,t){let n={},r=nt(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout=`none`,r.touchAction=e.drag===!0?`none`:`pan-${e.drag===`x`?`y`:`x`}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}var it=()=>E(E({},G()),{},{attrs:{}});function at(e,t,n,r){let i=(0,R.useMemo)(()=>{let n=it();return P(n,t,he(r),e.transformTemplate,e.style),E(E({},n.attrs),{},{style:E({},n.style)})},[t]);if(e.style){let t={};et(t,e.style,e),i.style=E(E({},t),i.style)}return i}var ot=[`animate`,`circle`,`defs`,`desc`,`ellipse`,`g`,`image`,`line`,`filter`,`marker`,`mask`,`metadata`,`path`,`pattern`,`polygon`,`polyline`,`rect`,`stop`,`switch`,`symbol`,`svg`,`text`,`tspan`,`use`,`view`];function K(e){return typeof e!=`string`||e.includes(`-`)?!1:!!(ot.indexOf(e)>-1||/[A-Z]/u.test(e))}function st(e,t,n,{latestValues:r},i,a=!1,o){let s=((o==null?K(e):o)?at:rt)(t,r,i,e),c=Xe(t,typeof e==`string`,a),l=e===R.Fragment?{}:E(E(E({},c),s),{},{ref:n}),{children:u}=t,d=(0,R.useMemo)(()=>_(u)?u.get():u,[u]);return(0,R.createElement)(e,E(E({},l),{},{children:d}))}var ct=[`transitionEnd`,`transition`];function lt({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:ut(n,r,i,e),renderState:t()}}function ut(e,t,n,r){let i={},a=r(e,{});for(let e in a)i[e]=fe(a[e]);let{initial:o,animate:l}=e,u=w(e),d=c(e);t&&d&&!u&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let f=n?n.initial===!1:!1;f=f||o===!1;let p=f?l:o;if(p&&typeof p!=`boolean`&&!T(p)){let t=Array.isArray(p)?p:[p];for(let n=0;n<t.length;n++){let r=C(e,t[n]);if(r){let{transitionEnd:e,transition:t}=r,n=s(r,ct);for(let e in n){let t=n[e];if(Array.isArray(t)){let e=f?t.length-1:0;t=t[e]}t!==null&&(i[e]=t)}for(let t in e)i[t]=e[t]}}}return i}var dt=e=>(t,n)=>{let r=(0,R.useContext)(W),i=(0,R.useContext)(z),a=()=>lt(e,t,r,i);return n?a():Te(a)},ft=dt({scrapeMotionValuesFromProps:ue,createRenderState:G}),pt=dt({scrapeMotionValuesFromProps:se,createRenderState:it}),mt=Symbol.for(`motionComponentSymbol`);function ht(e,t,n){let r=(0,R.useRef)(n);(0,R.useInsertionEffect)(()=>{r.current=n});let i=(0,R.useRef)(null);return(0,R.useCallback)(n=>{if(n){var a;(a=e.onMount)==null||a.call(e,n)}t&&(n?t.mount(n):t.unmount());let o=r.current;if(typeof o==`function`)if(n){let e=o(n);typeof e==`function`&&(i.current=e)}else i.current?(i.current(),i.current=null):o(n);else o&&(o.current=n)},[t])}var gt=(0,R.createContext)({});function q(e){return e&&typeof e==`object`&&Object.prototype.hasOwnProperty.call(e,`current`)}function _t(e,t,n,r,i,a){var o,s,c,l;let{visualElement:u}=(0,R.useContext)(W),f=(0,R.useContext)(Re),p=(0,R.useContext)(z),m=(0,R.useContext)(B),h=m.reducedMotion,g=m.skipAnimations,_=(0,R.useRef)(null),v=(0,R.useRef)(!1);r=r||f.renderer,!_.current&&r&&(_.current=r(e,{visualState:t,parent:u,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:h,skipAnimations:g,isSVG:a}),v.current&&_.current&&(_.current.manuallyAnimateOnMount=!0));let y=_.current,b=(0,R.useContext)(gt);y&&!y.projection&&i&&(y.type===`html`||y.type===`svg`)&&vt(_.current,n,i,b);let x=(0,R.useRef)(!1);(0,R.useInsertionEffect)(()=>{y&&x.current&&y.update(n,p)});let S=n[d],C=(0,R.useRef)(!!S&&!((o=(s=window).MotionHandoffIsComplete)!=null&&o.call(s,S))&&((c=(l=window).MotionHasOptimisedAnimation)==null?void 0:c.call(l,S)));return De(()=>{v.current=!0,y&&(x.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),C.current&&y.animationState&&y.animationState.animateChanges())}),(0,R.useEffect)(()=>{y&&(!C.current&&y.animationState&&y.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{var e,t;(e=(t=window).MotionHandoffMarkAsComplete)==null||e.call(t,S)}),C.current=!1),y.enteringChildren=void 0)}),y}function vt(e,t,n,r){let{layoutId:i,layout:a,drag:o,dragConstraints:s,layoutScroll:c,layoutRoot:l,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t[`data-framer-portal-id`]?void 0:yt(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||s&&q(s),visualElement:e,animationType:typeof a==`string`?a:`both`,initialPromotionConfig:r,crossfade:u,layoutScroll:c,layoutRoot:l})}function yt(e){if(e)return e.options.allowProjection===!1?yt(e.parent):e.projection}function J(e,{forwardMotionProps:t=!1,type:n}={},r,i){var a,o;r&&Ue(r);let s=n?n===`svg`:K(e),c=s?pt:ft;function l(n,a){let o,l=E(E(E({},(0,R.useContext)(B)),n),{},{layoutId:bt(n)}),{isStatic:u}=l,d=Qe(n),f=c(n,u);if(!u&&Ee){xt(l,r);let t=St(l);o=t.MeasureLayout,d.visualElement=_t(e,f,l,i,t.ProjectionNode,s)}return(0,V.jsxs)(W.Provider,{value:d,children:[o&&d.visualElement?(0,V.jsx)(o,E({visualElement:d.visualElement},l)):null,st(e,n,ht(f,d.visualElement,a),f,u,t,s)]})}l.displayName=`motion.${typeof e==`string`?e:`create(${(a=(o=e.displayName)==null?e.name:o)==null?``:a})`}`;let u=(0,R.forwardRef)(l);return u[mt]=e,u}function bt({layoutId:e}){let t=(0,R.useContext)(we).id;return t&&e!==void 0?t+`-`+e:e}function xt(e,t){(0,R.useContext)(Re).strict}function St(e){let{drag:t,layout:n}=He();if(!t&&!n)return{};let r=E(E({},t),n);return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function Ct(e,t){if(typeof Proxy>`u`)return J;let n=new Map,r=(n,r)=>J(n,r,e,t);return new Proxy((e,t)=>r(e,t),{get:(i,a)=>a===`create`?r:(n.has(a)||n.set(a,J(a,void 0,e,t)),n.get(a))})}var wt=(e,t)=>{var n;return((n=t.isSVG)==null?K(e):n)?new te(t):new ne(t,{allowProjection:e!==R.Fragment})},Tt=class extends L{constructor(e){super(e),e.animationState||(e.animationState=pe(e))}updateAnimationControlsSubscription(){let{animate:e}=this.node.getProps();T(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}},Et=0,Dt={animation:{Feature:Tt},exit:{Feature:class extends L{constructor(){super(...arguments),this.id=Et++}update(){if(!this.node.presenceContext)return;let{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;let r=this.node.animationState.setActive(`exit`,!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){let{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}};function Y(e){return{point:{x:e.pageX,y:e.pageY}}}var Ot=e=>t=>o(t)&&e(t,Y(t));function X(e,t,n,r){return F(e,t,Ot(n),r)}var kt=({current:e})=>e?e.ownerDocument.defaultView:null,At=(e,t)=>Math.abs(e-t);function jt(e,t){let n=At(e.x,t.x),r=At(e.y,t.y);return Math.sqrt(Math.pow(n,2)+Math.pow(r,2))}var Mt=new Set([`auto`,`scroll`]),Nt=class{constructor(e,t,{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:i=!1,distanceThreshold:a=3,element:s}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=e=>{this.handleScroll(e.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let e=Q(this.lastMoveEventInfo,this.history),t=this.startEvent!==null,n=jt(e.offset,{x:0,y:0})>=this.distanceThreshold;if(!t&&!n)return;let{point:r}=e,{timestamp:i}=g;this.history.push(E(E({},r),{},{timestamp:i}));let{onStart:a,onMove:o}=this.handlers;t||(a&&a(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),o&&o(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=Z(t,this.transformPagePoint),f.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();let{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&i&&i(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let a=Q(e.type===`pointercancel`?this.lastMoveEventInfo:Z(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,a),r&&r(e,a)},!o(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=a,this.contextWindow=r||window;let c=Z(Y(e),this.transformPagePoint),{point:l}=c,{timestamp:u}=g;this.history=[E(E({},l),{},{timestamp:u})];let{onSessionStart:d}=t;d&&d(e,Q(c,this.history)),this.removeListeners=k(X(this.contextWindow,`pointermove`,this.handlePointerMove),X(this.contextWindow,`pointerup`,this.handlePointerUp),X(this.contextWindow,`pointercancel`,this.handlePointerUp)),s&&this.startScrollTracking(s)}startScrollTracking(e){let t=e.parentElement;for(;t;){let e=getComputedStyle(t);(Mt.has(e.overflowX)||Mt.has(e.overflowY))&&this.scrollPositions.set(t,{x:t.scrollLeft,y:t.scrollTop}),t=t.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener(`scroll`,this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener(`scroll`,this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener(`scroll`,this.onElementScroll,{capture:!0}),window.removeEventListener(`scroll`,this.onWindowScroll)}}handleScroll(e){let t=this.scrollPositions.get(e);if(!t)return;let n=e===window,r=n?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},i={x:r.x-t.x,y:r.y-t.y};i.x===0&&i.y===0||(n?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=i.x,this.lastMoveEventInfo.point.y+=i.y):this.history.length>0&&(this.history[0].x-=i.x,this.history[0].y-=i.y),this.scrollPositions.set(e,r),f.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),O(this.updatePoint)}};function Z(e,t){return t?{point:t(e.point)}:e}function Pt(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Q({point:e},t){return{point:e,delta:Pt(e,It(t)),offset:Pt(e,Ft(t)),velocity:Lt(t,.1)}}function Ft(e){return e[0]}function It(e){return e[e.length-1]}function Lt(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null,i=It(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>h(t)));)n--;if(!r)return{x:0,y:0};r===e[0]&&e.length>2&&i.timestamp-r.timestamp>h(t)*2&&(r=e[1]);let a=de(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};let o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Rt(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?D(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?D(n,e,r.max):Math.min(e,n)),e}function zt(e,t,n){return{min:t===void 0?void 0:e.min+t,max:n===void 0?void 0:e.max+n-(e.max-e.min)}}function Bt(e,{top:t,left:n,bottom:r,right:i}){return{x:zt(e.x,n,i),y:zt(e.y,t,r)}}function Vt(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Ht(e,t){return{x:Vt(e.x,t.x),y:Vt(e.y,t.y)}}function Ut(e,t){let n=.5,r=I(e),i=I(t);return i>r?n=A(t.min,t.max-r,e.min):r>i&&(n=A(e.min,e.max-i,t.min)),a(0,1,n)}function Wt(e,t){let n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}var Gt=.35;function Kt(e=Gt){return e===!1?e=0:e===!0&&(e=Gt),{x:qt(e,`left`,`right`),y:qt(e,`top`,`bottom`)}}function qt(e,t,n){return{min:Jt(e,t),max:Jt(e,n)}}function Jt(e,t){return typeof e==`number`?e:e[t]||0}var Yt=new WeakMap,Xt=class{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=u(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:n}={}){let{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;let i=e=>{t&&this.snapToCursor(Y(e).point),this.stopAnimation()},a=(e,t)=>{let{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock=v(n),!this.openDragLock))return;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),M(e=>{let t=this.getAxisMotionValue(e).get()||0;if(p.test(t)){let{projection:n}=this.visualElement;if(n&&n.layout){let r=n.layout.layoutBox[e];r&&(t=I(r)*(parseFloat(t)/100))}}this.originPoint[e]=t}),i&&f.update(()=>i(e,t),!1,!0),m(this.visualElement,`transform`);let{animationState:a}=this.visualElement;a&&a.setActive(`whileDrag`,!0)},o=(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;let{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:a}=this.getProps();if(!n&&!this.openDragLock)return;let{offset:o}=t;if(r&&this.currentDirection===null){this.currentDirection=$t(o),this.currentDirection!==null&&i&&i(this.currentDirection);return}this.updateAxis(`x`,t.point,o),this.updateAxis(`y`,t.point,o),this.visualElement.render(),a&&f.update(()=>a(e,t),!1,!0)},s=(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>{let{dragSnapToOrigin:e}=this.getProps();(e||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:l}=this.getProps();this.panSession=new Nt(e,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:s,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:l,distanceThreshold:n,contextWindow:kt(this.visualElement),element:this.visualElement.current})}stop(e,t){let n=e||this.latestPointerEvent,r=t||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!r||!n)return;let{velocity:a}=r;this.startAnimation(a);let{onDragEnd:o}=this.getProps();o&&f.postRender(()=>o(n,r))}cancel(){this.isDragging=!1;let{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();let{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive(`whileDrag`,!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,t,n){let{drag:r}=this.getProps();if(!n||!$(e,r,this.currentDirection))return;let i=this.getAxisMotionValue(e),a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=Rt(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var e;let{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)==null?void 0:e.layout,i=this.constraints;t&&q(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=Bt(r.layoutBox,t):this.constraints=!1,this.elastic=Kt(n),i!==this.constraints&&!q(t)&&r&&this.constraints&&!this.hasMutatedConstraints&&M(e=>{this.constraints!==!1&&this.getAxisMotionValue(e)&&(this.constraints[e]=Wt(r.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){let{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!q(e))return!1;let n=e.current;S(n!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.",`drag-constraints-ref`);let{projection:r}=this.visualElement;if(!r||!r.layout)return!1;let i=re(n,r.root,this.visualElement.getTransformPagePoint()),a=Ht(r.layout.layoutBox,i);if(t){let e=t(ge(a));this.hasMutatedConstraints=!!e,e&&(a=ee(e))}return a}startAnimation(e){let{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),s=this.constraints||{},c=M(o=>{if(!$(o,t,this.currentDirection))return;let c=s&&s[o]||{};a&&(c={min:0,max:0});let l=r?200:1e6,u=r?40:1e7,d=E(E({type:`inertia`,velocity:n?e[o]:0,bounceStiffness:l,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10},i),c);return this.startAxisValueAnimation(o,d)});return Promise.all(c).then(o)}startAxisValueAnimation(e,t){let n=this.getAxisMotionValue(e);return m(this.visualElement,e),n.start(ye(e,n,0,t,this.visualElement,!1))}stopAnimation(){M(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){let t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps();return n[t]||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){M(t=>{let{drag:n}=this.getProps();if(!$(t,n,this.currentDirection))return;let{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){let{min:n,max:a}=r.layout.layoutBox[t],o=i.get()||0;i.set(e[t]-D(n,a,.5)+o)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!q(t)||!n||!this.constraints)return;this.stopAnimation();let r={x:0,y:0};M(e=>{let t=this.getAxisMotionValue(e);if(t&&this.constraints!==!1){let n=t.get();r[e]=Ut({min:n,max:n},this.constraints[e])}});let{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},``):`none`,n.root&&n.root.updateScroll(),n.updateLayout(),this.constraints=!1,this.resolveConstraints(),M(t=>{if(!$(t,e,null))return;let n=this.getAxisMotionValue(t),{min:i,max:a}=this.constraints[t];n.set(D(i,a,r[t]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;Yt.set(this.visualElement,this);let e=this.visualElement.current,t=X(e,`pointerdown`,t=>{let{drag:n,dragListener:r=!0}=this.getProps(),i=t.target,a=i!==e&&oe(i);n&&r&&!a&&this.start(t)}),n,r=()=>{let{dragConstraints:t}=this.getProps();q(t)&&t.current&&(this.constraints=this.resolveRefConstraints(),n||(n=Qt(e,t.current,()=>this.scalePositionWithinConstraints())))},{projection:i}=this.visualElement,a=i.addEventListener(`measure`,r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),f.read(r);let o=F(window,`resize`,()=>this.scalePositionWithinConstraints()),s=i.addEventListener(`didUpdate`,(({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(M(t=>{let n=this.getAxisMotionValue(t);n&&(this.originPoint[t]+=e[t].translate,n.set(n.get()+e[t].translate))}),this.visualElement.render())}));return()=>{o(),t(),a(),s&&s(),n&&n()}}getProps(){let e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:a=Gt,dragMomentum:o=!0}=e;return E(E({},e),{},{drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:a,dragMomentum:o})}};function Zt(e){let t=!0;return()=>{if(t){t=!1;return}e()}}function Qt(e,t,n){let r=l(e,Zt(n)),i=l(t,Zt(n));return()=>{r(),i()}}function $(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function $t(e,t=10){let n=null;return Math.abs(e.y)>t?n=`y`:Math.abs(e.x)>t&&(n=`x`),n}var en=class extends L{constructor(e){super(e),this.removeGroupControls=j,this.removeListeners=j,this.controls=new Xt(e)}mount(){let{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||j}update(){let{dragControls:e}=this.node.getProps(),{dragControls:t}=this.node.prevProps||{};e!==t&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}},tn=e=>(t,n)=>{e&&f.update(()=>e(t,n),!1,!0)},nn=class extends L{constructor(){super(...arguments),this.removePointerDownListener=j}onPointerDown(e){this.session=new Nt(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:kt(this.node)})}createPanHandlers(){let{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:tn(e),onStart:tn(t),onMove:tn(n),onEnd:(e,t)=>{delete this.session,r&&f.postRender(()=>r(e,t))}}}mount(){this.removePointerDownListener=X(this.node.current,`pointerdown`,e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}},rn=!1,an=class extends R.Component{componentDidMount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),rn&&i.root.didUpdate(),i.addEventListener(`animationComplete`,()=>{this.safeToRemove()}),i.setOptions(E(E({},i.options),{},{layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()}))),le.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){let{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,{projection:a}=n;return a?(a.isPresent=i,e.layoutDependency!==t&&a.setOptions(E(E({},a.options),{},{layoutDependency:t})),rn=!0,r||e.layoutDependency!==t||t===void 0||e.isPresent!==i?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||f.postRender(()=>{let e=a.getStack();(!e||!e.members.length)&&this.safeToRemove()})),null):null}componentDidUpdate(){let{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),y.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;rn=!0,r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){let{safeToRemove:e}=this.props;e&&e()}render(){return null}};function on(e){let[t,n]=Fe(),r=(0,R.useContext)(we);return(0,V.jsx)(an,E(E({},e),{},{layoutGroup:r,switchLayoutGroup:(0,R.useContext)(gt),isPresent:t,safeToRemove:n}))}var sn={pan:{Feature:nn},drag:{Feature:en,ProjectionNode:me,MeasureLayout:on}};function cn(e,t,n){let{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive(`whileHover`,n===`Start`);let i=r[`onHover`+n];i&&f.postRender(()=>i(t,Y(t)))}var ln=class extends L{mount(){let{current:e}=this.node;e&&(this.unmount=ae(e,(e,t)=>(cn(this.node,t,`Start`),e=>cn(this.node,e,`End`))))}unmount(){}},un=class extends L{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(`:focus-visible`)}catch(t){e=!0}!e||!this.node.animationState||(this.node.animationState.setActive(`whileFocus`,!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive(`whileFocus`,!1),this.isActive=!1)}mount(){this.unmount=k(F(this.node.current,`focus`,()=>this.onFocus()),F(this.node.current,`blur`,()=>this.onBlur()))}unmount(){}};function dn(e,t,n){let{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive(`whileTap`,n===`Start`);let i=r[`onTap`+(n===`End`?``:n)];i&&f.postRender(()=>i(t,Y(t)))}var fn=class extends L{mount(){let{current:e}=this.node;if(!e)return;let{globalTapTarget:t,propagate:n}=this.node.props;this.unmount=b(e,(e,t)=>(dn(this.node,t,`Start`),(e,{success:t})=>dn(this.node,e,t?`End`:`Cancel`)),{useGlobalTarget:t,stopPropagation:(n==null?void 0:n.tap)===!1})}unmount(){}},pn=[`root`],mn=new WeakMap,hn=new WeakMap,gn=e=>{let t=mn.get(e.target);t&&t(e)},_n=e=>{e.forEach(gn)};function vn(e){let{root:t}=e,n=s(e,pn),r=t||document;hn.has(r)||hn.set(r,{});let i=hn.get(r),a=JSON.stringify(n);return i[a]||(i[a]=new IntersectionObserver(_n,E({root:t},n))),i[a]}function yn(e,t,n){let r=vn(t);return mn.set(e,n),r.observe(e),()=>{mn.delete(e),r.unobserve(e)}}var bn={some:0,all:1},xn=class extends L{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();let{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r=`some`,once:i}=e,a={root:t?t.current:void 0,rootMargin:n,threshold:typeof r==`number`?r:bn[r]};return yn(this.node.current,a,e=>{let{isIntersecting:t}=e;if(this.isInView===t||(this.isInView=t,i&&!t&&this.hasEnteredView))return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive(`whileInView`,t);let{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),a=t?n:r;a&&a(e)})}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>`u`)return;let{props:e,prevProps:t}=this.node;[`amount`,`margin`,`root`].some(Sn(e,t))&&this.startObserver()}unmount(){}};function Sn({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}var Cn={inView:{Feature:xn},tap:{Feature:fn},focus:{Feature:un},hover:{Feature:ln}},wn={layout:{ProjectionNode:me,MeasureLayout:on}},Tn=Ct(E(E(E(E({},Dt),Cn),sn),wn),wt);export{xe as i,Le as n,Ce as r,Tn as t};